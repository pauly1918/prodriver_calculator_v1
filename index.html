<!DOCTYPE html>
<html lang="fr">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Calculateur ProDriver</title>
  <style>
  body {
  font-family: Arial, sans-serif;
  background: #0f1115;
  padding: 20px;
  color: #e0e0e0;
}

.container {
  max-width: 520px;
  margin: auto;
}

h1 {
  text-align: center;
  color: #ffffff;
}

/* Cartes */
.card,
.results {
  background: #1c1f26;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.6);

  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Labels */
label {
  font-weight: bold;
  margin-top: 10px;
  color: #cfd8dc;
  width: 100%;
}

/* Champs */
input {
  width: 100%;
  max-width: 420px;
  padding: 8px;
  margin-top: 5px;
  border-radius: 6px;
  border: none;
  background: #2a2f3a;
  color: #ffffff;
}

input::placeholder {
  color: #9ea7b3;
}

/* Bouton */
button {
  width: 100%;
  max-width: 420px;
  padding: 12px;
  margin-top: 18px;
  font-size: 16px;
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background: #1565c0;
}

/* Lignes simples */
.row {
  text-align: center;
  margin-bottom: 6px;
  color: #e0e0e0;
}

/* Mise en avant arriv√©e */
.arrival-time {
  margin-top: 12px;
  padding: 12px;
  width: 100%;
  text-align: center;
  background: #102027;
  border-left: 4px solid #42a5f5;
  font-size: 20px;
  font-weight: bold;
  color: #ffffff;
}

/* Valeurs importantes */
.result-main {
  font-size: 20px;
  font-weight: bold;
  color: #4caf50;
}

.result-secondary {
  color: #b0bec5;
  font-size: 14px;
}
.inputs {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Labels align√©s */
.inputs label {
  width: 100%;
  max-width: 420px;
  text-align: left;
}

/* Champs align√©s */
.inputs input {
  width: 100%;
  max-width: 420px;
}

/* Checkbox propre */
.inputs label input[type="checkbox"] {
  width: auto;
  margin-right: 6px;
}

/* Bouton centr√© et align√© */
.inputs button {
  width: 100%;
  max-width: 420px;
}
.job-status {
  margin-bottom: 12px;
  padding: 10px;
  border-radius: 8px;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
}

.job-status.good {
  background: #1b5e20;
  color: #a5d6a7;
}

.job-status.medium {
  background: #f9a825;
  color: #000000;
}

.job-status.bad {
  background: #b71c1c;
  color: #ffcdd2;
}
.kpi {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin: 15px 0;
  width: 100%;
}

.kpi-box {
  background: #2a2f3a;
  padding: 12px;
  border-radius: 8px;
  text-align: center;
}

.kpi-title {
  font-size: 12px;
  color: #b0bec5;
}

.kpi-value {
  font-size: 20px;
  font-weight: bold;
  color: #ffffff;
}
.kpi-main.good {
  border: 2px solid #4caf50;
}

.kpi-main.ok {
  border: 2px solid #f9a825;
}

.kpi-main.bad {
  border: 2px solid #e53935;
}

.kpi-main .kpi-value {
  font-size: 28px;
  font-weight: bold;
}

.kpi-main .kpi-title {
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 1px;
}
.arrival-main {
  font-size: 22px;
  font-weight: bold;
  color: #ffffff;
}

.arrival-sub {
  margin-top: 4px;
  font-size: 14px;
  color: #b0bec5;
}
    .logo-container {
  display: flex;
  justify-content: center;
  margin: 10px 0 20px;
}

.logo {
  max-width: 160px;
  width: 100%;
  height: auto;
  opacity: 0.95;
  filter: drop-shadow(0 4px 10px rgba(0,0,0,0.6));
}
.kpi {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 6px;
}
    
.kpi-value.good {
  color: #4caf50;
}

.kpi-value.ok {
  color: #f9a825;
}

.kpi-value.bad {
  color: #e53935;
}
.kpi-main .kpi-value.good {
  color: #4caf50;
}

.kpi-main .kpi-value.ok {
  color: #f9a825;
}

.kpi-main .kpi-value.bad {
  color: #e53935;
}    
@media (max-width: 600px) {

  /* KPI passent en vertical */
  .kpi {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  /* La carte Part VTC prend toute la largeur */
  .kpi-box {
    width: 100%;
  }

  /* Part VTC encore plus mise en avant */
  .kpi-main .kpi-value {
    font-size: 32px;
  }

  /* Arriv√©e plus compacte */
  .arrival-time {
    font-size: 18px;
    padding: 10px;
  }

}
    /* Centrage des r√©sultats sur desktop */
@media (min-width: 601px) {

  #results {
    align-items: center;
  }

  .kpi {
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
  }

  .job-status {
    width: 100%;
    max-width: 480px;
  }

  .arrival-time {
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
  }

  details {
    max-width: 480px;
    width: 100%;
  }

}
/* Dashboard central desktop */
@media (min-width: 601px) {

  .dashboard {
    display: grid;
    grid-template-columns: 1fr minmax(480px, 560px) 1fr;
    width: 100%;
  }

  .dashboard-center {
    grid-column: 2;
  }

  .btn-reset {
  background: #37474f;
  margin-top: 10px;
}

.btn-reset:hover {
  background: #263238;
}
  
    







  </style>
</head>
<body>

  <div class="logo-container">
    <img src="logo-stq.png" alt="STQ Logistique" class="logo">
  </div>

  <div class="dashboard">

    <div class="dashboard-center">

      <div class="card">
        <div class="inputs">

  <label>Distance (km)</label>
  <input type="number" id="distance">

  <label>Prix in-game (‚Ç¨)</label>
  <input type="number" id="prix">

  <label>Temps in-game (hh:mm)</label>
  <input type="text" id="temps" placeholder="65:58">

  <label>
    <input type="checkbox" id="alimentaire">
    Marchandise alimentaire
  </label>

  <label>ProStock (%)</label>
  <input type="number" id="prostock" placeholder="-23">

  <label>√âco-malus camion (%)</label>
  <input type="number" id="eco" value="1">

  <button onclick="calculer()">Calculer</button>
          
  <button type="button" onclick="resetForm()" class="btn-reset">
    Reset
  </button>

</div>

      </div>

      <div class="card" id="results"></div>

    </div> <!-- dashboard-center -->

  </div> <!-- dashboard -->

  <div style="text-align:center; opacity:0.4; font-size:12px;">
    ProDriver Calculator ‚Äî v1.0
  </div>

</body>




<script>
const PART_CHAUFFEUR = 0.11;
const BONUS_ALIMENTAIRE = 0.15;

function calculer() {
  const distance = parseFloat(document.getElementById("distance").value);
  const prix = parseFloat(document.getElementById("prix").value);
  const temps = document.getElementById("temps").value;
  const prostockPct = parseFloat(document.getElementById("prostock").value);
  const alimentaire = document.getElementById("alimentaire").checked;
  const ecoPct = parseFloat(document.getElementById("eco").value);

  const brut = prix / 25;

  const prostockEur = brut * (prostockPct / 100);
  const bonusAlimEur = alimentaire ? brut * BONUS_ALIMENTAIRE : 0;
  const ecoEur = brut * (ecoPct / 100);

  const net = brut + prostockEur + bonusAlimEur - ecoEur;
  const chauffeur = net * PART_CHAUFFEUR;
  const partVTC = net - chauffeur;
const eurParKm = partVTC / distance;


let jobText = "";
let jobClass = "";

if (eurParKm >= 1.4) {
  jobText = "üü¢ BON";
  jobClass = "good";
} else if (eurParKm >= 1.2) {
  jobText = "üü° MOYEN";
  jobClass = "medium";
} else {
  jobText = "üî¥ MAUVAIS";
  jobClass = "bad";
}


  let tempsReel = "‚Äî";
  let eurParHeure = "‚Äî";
  let heureArrivee = "‚Äî";
  let tempsReelLisible = "‚Äî";


  if (/^\d{1,3}:\d{2}$/.test(temps)) {
  const [h, m] = temps.split(":").map(Number);
  const minutesIG = h * 60 + m;
  const minutesReel = minutesIG * 3.15 / 60;

  const heures = Math.floor(minutesReel / 60);
  const minutes = Math.round(minutesReel % 60);

  tempsReelLisible = `${heures} h ${minutes} min`;

  const now = new Date();
  const arrival = new Date(now.getTime() + minutesReel * 60000);

  heureArrivee =
    arrival.getHours().toString().padStart(2, "0") + ":" +
    arrival.getMinutes().toString().padStart(2, "0");
}

document.getElementById("results").innerHTML = `
  <div class="results-inner">

    <div class="job-status ${jobClass}">
      ${jobText}
    </div>

    <div class="kpi">

      <div class="kpi-box kpi-main ${jobClass}">
        <div class="kpi-title">Part VTC</div>
        <div class="kpi-value ${jobClass}">
          ${partVTC.toFixed(2)} ‚Ç¨ ‚Äî ${jobText}
        </div>
      </div>

      <div class="kpi-box">
        <div class="kpi-title">‚Ç¨/km</div>
        <div class="kpi-value">
          ${distance > 0 ? (partVTC / distance).toFixed(2) : "‚Äî"}
        </div>
      </div>

    </div>

    <div class="arrival-time">
      <div class="arrival-main">
        üïí Arriv√©e pr√©vue √† <b>${heureArrivee}</b>
      </div>
      <div class="arrival-sub">
        ‚è±Ô∏è Dur√©e r√©elle : ${tempsReelLisible}
      </div>
    </div>

    <details>
      <summary>D√©tails du calcul</summary>
      <div class="row">Brut : ${brut.toFixed(2)} ‚Ç¨</div>
      <div class="row">ProStock : ${prostockEur.toFixed(2)} ‚Ç¨</div>
      <div class="row">Bonus alimentaire : ${bonusAlimEur.toFixed(2)} ‚Ç¨</div>
      <div class="row">√âco-malus : -${ecoEur.toFixed(2)} ‚Ç¨</div>
      <div class="row">Chauffeur : ${chauffeur.toFixed(2)} ‚Ç¨</div>
    </details>

  </div> <!-- results-inner -->
`;

}


</script>

</body>
</html>









